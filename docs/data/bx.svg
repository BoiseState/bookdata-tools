<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="300px" preserveAspectRatio="none" style="width:360px;height:300px;" version="1.1" viewBox="0 0 360 300" width="360px" zoomAndPan="magnify"><defs><filter height="300%" id="fwzalpxvgkn7a" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="178" x="95" y="18.6855">BookCrossing Ratings</text><!--MD5=[6c6b3aaf420271ef2abb87aa755b195f]
class isbn_id--><rect fill="#FEFECE" filter="url(#fwzalpxvgkn7a)" height="68.7656" id="isbn_id" style="stroke: #A80036; stroke-width: 1.5;" width="47" x="267" y="220.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="270" y="238.0977">isbn_id</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="268" x2="313" y1="245.7344" y2="245.7344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="34" x="273" y="261.1533">isbn_id</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="268" x2="313" y1="267.5703" y2="267.5703"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="273" y="282.9893">isbn</text><!--MD5=[74cc8024e60fab674a41ae0c7b76879d]
class isbn_cluster--><rect fill="#FEFECE" filter="url(#fwzalpxvgkn7a)" height="68.7656" id="isbn_cluster" style="stroke: #A80036; stroke-width: 1.5;" width="74" x="157.5" y="220.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="160.5" y="238.0977">isbn_cluster</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="158.5" x2="230.5" y1="245.7344" y2="245.7344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="163.5" y="261.1533">cluster</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="158.5" x2="230.5" y1="267.5703" y2="267.5703"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="34" x="163.5" y="282.9893">isbn_id</text><!--MD5=[892960c49140be79834639d132740a42]
class raw_ratings--><rect fill="#FEFECE" filter="url(#fwzalpxvgkn7a)" height="82.6016" id="raw_ratings" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="6" y="45.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="65" x="9" y="62.5977">raw_ratings</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="76" y1="70.2344" y2="70.2344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="7" x2="76" y1="78.2344" y2="78.2344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="12" y="93.6533">user_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="12" y="107.4893">isbn</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="12" y="121.3252">rating</text><!--MD5=[2eac969dd808a5f35f2990cb5d945bb2]
class rating--><rect fill="#FEFECE" filter="url(#fwzalpxvgkn7a)" height="111.5313" id="rating" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="222" y="30.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="55" x="223" y="48.0977">«derived»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="235" y="63.1914">rating</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="278" y1="70.8281" y2="70.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="228" y="86.2471">user_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="228" y="100.083">book_id</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="223" x2="278" y1="106.5" y2="106.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="228" y="121.9189">rating</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="228" y="135.7549">nactions</text><!--MD5=[81d7fe74b9f0a787ef9c5c080a006fb2]
class add_action--><rect fill="#FEFECE" filter="url(#fwzalpxvgkn7a)" height="97.6953" id="add_action" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="112" y="37.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="55" x="118" y="55.0977">«derived»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="61" x="115" y="70.1914">add_action</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="113" x2="178" y1="77.8281" y2="77.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="118" y="93.2471">user_id</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="118" y="107.083">book_id</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="113" x2="178" y1="113.5" y2="113.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="118" y="128.9189">nactions</text><!--MD5=[4823669649a88054fbb4c6aefb48e5aa]
reverse link isbn_cluster to isbn_id--><path d="M239.616,255.6406 C239.616,255.6406 266.785,255.6406 266.785,255.6406 " fill="none" id="isbn_cluster&lt;-isbn_id" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="239.616" x2="231.616" y1="255.6406" y2="261.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="239.616" x2="231.616" y1="255.6406" y2="249.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="239.616" x2="231.616" y1="255.6406" y2="255.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="241.616" x2="241.616" y1="259.6406" y2="251.6406"/><!--MD5=[859a6df3c1c1e2360a96aee0b68f8f19]
reverse link raw_ratings to rating--><path d="M41.5,133.4006 C41.5,133.4006 41.5,139.6406 41.5,139.6406 C41.5,139.6406 164.638,139.6406 221.878,139.6406 " fill="none" id="raw_ratings&lt;-rating" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="41.5,128.4006,37.5,137.4006,41.5,133.4006,45.5,137.4006,41.5,128.4006" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[bebaa75a457915f83135d42642a01fa0]
reverse link raw_ratings to add_action--><path d="M82,86.6406 C82,86.6406 111.914,86.6406 111.914,86.6406 " fill="none" id="raw_ratings&lt;-add_action" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="77,86.6406,86,90.6406,82,86.6406,86,82.6406,77,86.6406" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e56b8e6925b3c28bd9de4f35f1cbd0d1]
reverse link rating to isbn_cluster--><path d="M226.75,150.7486 C226.75,150.7486 226.75,220.3742 226.75,220.3742 " fill="none" id="rating&lt;-isbn_cluster" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="226.75" x2="220.75" y1="150.7486" y2="142.7486"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="226.75" x2="232.75" y1="150.7486" y2="142.7486"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="226.75" x2="226.75" y1="150.7486" y2="142.7486"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="222.75" x2="230.75" y1="152.7486" y2="152.7486"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="260.5" y="187.1357">book_id:cluster</text><!--MD5=[a6f2812b820a37e42aeaeb1ec0894cfb]
reverse link add_action to isbn_cluster--><path d="M168.25,143.8306 C168.25,143.8306 168.25,220.6037 168.25,220.6037 " fill="none" id="add_action&lt;-isbn_cluster" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="168.25" x2="162.25" y1="143.8306" y2="135.8306"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="168.25" x2="174.25" y1="143.8306" y2="135.8306"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="168.25" x2="168.25" y1="143.8306" y2="135.8306"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="164.25" x2="172.25" y1="145.8306" y2="145.8306"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="130.5" y="187.1357">book_id:cluster</text><!--MD5=[b842f313b1f24ddbb90e5213c6241393]
@startuml

title BookCrossing Ratings
skinparam linetype ortho

hide empty members
hide circle

entity isbn_id {
  isbn_id
  - -
  isbn
}

entity isbn_cluster {
  cluster
  - -
  isbn_id
}

isbn_cluster }|- isbn_id

entity raw_ratings {
    - -
    user_id
    isbn
    rating
}

entity rating <<derived>> {
    user_id
    book_id
    - -
    rating
    nactions
}

entity add_action <<derived>> {
    user_id
    book_id
    - -
    nactions
}

raw_ratings <. rating
raw_ratings <. add_action

rating }|- - isbn_cluster : book_id:cluster
add_action }|- - isbn_cluster : book_id:cluster

@enduml

PlantUML version 1.2020.05(Thu Mar 19 15:17:32 MDT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 14+36-1461
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>